<!DOCTYPE html>
<html>

<head>
  <title>Time Based Switch</title>
  <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link href='https://fonts.googleapis.com/css?family=Poppins:wght@500&display=swap' rel='stylesheet' type='text/css'>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/slim-select/1.27.0/slimselect.min.css" rel="stylesheet">
  </link>
  <script src="./app.js"></script>

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-PLF6S4L48R"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'G-PLF6S4L48R');
  </script>
</head>

<body>
  <header>
    <!-- <img src="daslogo.png" />
    <br><br><br>
    <h2>I Want To <a href="#" onclick="App.showCreate();">Create</a> New Time Based Switch</h2>
    <br><br>
    <h2>I Want To <a href="#" onclick="App.showCheck();">Check</a> On Existing Switch</h2> -->
    <div class="logo-style">
      <img src="cryptotimer-logo.svg" />
    </div>

    <ul class="nav-menu-items nav">
      <li class="menu-item nav-link"><a href="" target="_blank">How it works?</a></li>
      <li class="menu-item nav-link">
        <a href="https://github.com/Omodaka9375/Time-Based-Switch-on-Ethereum" target="_blank">GitHub</a>
      </li>
      <li class="menu-item nav-link"><a href="https://discord.com/invite/ZWZ9Jk77vt" target="_blank">Discord</a>
      </li>
    </ul>
    <div class="burger">
      <i class="fas fa-bars"></i>
    </div>

    <div class="metamask-wrapper">
      <div id="connectMetamask" class="connect-metamask-box" onclick="App.initWeb3();">
        <img class="metamask-image" src="metamask.png" />
        <div class="metamask-button-text">Connect Wallet</div>
      </div>
      <div id="wallet" class="wallet-box">
        <img class="wallet-image" src="avatar1.png" />
        <div class="wallet-address-box" id="walletAddress"></div>
        <div class="wallet-balance-box" id="walletBalance">
        </div>
      </div>
    </div>
  </header>

  <div id="dashboard" class="dashboard-box">
    <div class="dashboard-content">
      <div class="welcome-text">
        <p class="nice-text-class">Nice to see
          you!</p>
        <p class="active-switches-class" id="numOfActiveSwitches">
          You currently have no active switches
        </p>
      </div>
      <div class="create-switch-button-box">
        <button onclick="App.showCreatePage()" class="button-primary" style="font-weight: 600;">+
          Create switch</button>
      </div>
    </div>
    <div class="switch-tabs" id="myTabs">
      <div class="tabs">
        <a id="tablinks-mySwitches" class="tablinks-nav blue-undeline" onclick="App.openMySwitch()">My Switches</a>
        <a id="tablinks-receivedSwitches" class="tablinks-nav" onclick="App.receivedSwitches()">Received Switches</a>
      </div>
      <div id="mySwitchData"></div>
      <div id="myReceivedSwitchData"></div>
    </div>
  </div>
  <div class="overview" id="swOverview">
    <h1>Switch Overview</h1>
    <hr>
  </div>
  <div class="overview" id="editOverview">
    <h1 id="editSwitchName">Name</h1>
    <hr>
  </div>

  <div id="overlay">
    <div id="overlayBox">
      <div class="overlay-box-head">
        <img class="metamask-image" src="metamask.png" />
        <h4>MetaMask</h4>
      </div>
      <div id="maessageBox">
        <div class="loader"></div>
        <div class="loader-text">
          <div class="upper-text">Waiting for MetaMask...</div>
          <div class="down-text">Please connect your wallet trought MetaMask extension </div>
        </div>
      </div>
    </div>
  </div>


  <div id="create" class="central-wrapper">
    <div class="left-wrapper">
      <div class="text-up-header" id="createTextUpHeader">CREATE NEW SWITCH</div>
      <div class="content-title" id="createContentTitle">Define the basics</div>
      <div class="central-text" id="createCentralText">Let's start simple. 
        What is the purpose of this switch? <br>
        When it should be executed?
      </div>
    </div>
    <div class="right-wrapper">
      <div class="form-box">
        <div class="form-element-header">Switch name</div>
        <div class="form-element-subheader">Give your switch a name of your choice</div>
        <input type="text" id="name" value="" />
        <div class="form-element-header">Timeout period</div>
        <div class="form-element-subheader">Set up period after which Switch can be executed</div>
        <div class="select-wrapper">
          <select name="timestamp" class="select-element-tokens" id="period" value="days" onchange="App.changePeriod()">
            <option name="days" value="days">Days</option>
            <option name="months" value="months">Months</option>
            <option name="years" value="years">Years</option>
          </select>
          <input type="number" class="only-positive" min="1" style="width: 42%" id="periodTime"
            oninput="App.timeExecutionLeft()" />
        </div>
        <div class="expire-date"><span id="timeText">Your timeout
            will expire on</span><span id="date"></span> at <span id="time"></span></div>
      </div>
    </div>
  </div>

  <div id="assets" class="central-wrapper">
    <div class="left-wrapper">
      <div class="text-up-header" id="assetsTextUpHeader">CREATE NEW SWITCH</div>
      <div class="content-title" id="assetsContentTitle">Manage assets</div>
      <div class="central-text" id="assetsCentralText">Here you decide which assets you want to lock in your switch.
        <br> It can be ETH, ERC token or NFT, or all of them! </div>
    </div>
    <div class="right-wrapper">
      <div class="add-new-asset">
        <div id="asset" class="form-box">
          <div class="form-element-header">Select asset</div>
          <select name="token" id="selectToken" class="select-element-tokens" style="width: 100%;" disabled="true">

          </select>
          <div class="form-element-header">Amount</div>
          <div class="form-element-subheader">Set up the amount that will be locked
            and sent once the
            switch expires</div>
          <div style="display: flex; justify-content: space-between;">
            <input type="number" class="only-positive" id="tokenAmount" style="width: 42%" min="0"
              oninput="App.inputETHValue()" />
            <input style="width: 42%" id="tokenAmountCash" disabled value="0.00$" />
          </div>
          <div class="options-wrapper">
            <label class="container">
              <input type="radio" id="queter" class="option" name="gender" value="25%"
                onclick="App.queterDefineAmount()">
              <span class="checkmark">25%</span>
            </label>
            <label class="container">
              <input type="radio" id="half" class="option" name="gender" value="50%" onclick="App.halfDefineAmount()">
              <span class="checkmark">50%</span>
            </label>
            <label class="container">
              <input type="radio" id="tree-queters" class="option" name="gender" value="75%"
                onclick="App.treequetersDefineAmount()">
              <span class="checkmark">75%</span>
            </label>
            <label class="container">
              <input type="radio" id="full" class="option" name="gender" value="100%" onclick="App.fullDefineAmount()">
              <span class="checkmark">100%</span>
            </label>
          </div>
        </div>
      </div>
      <div class="new-asset-button" onclick="App.addAsset()" id="assetButton">
        <h5>+ Add new asset</h5>
      </div>
    </div>
  </div>

  <div id="execution" class="central-wrapper">
    <div class="left-wrapper">
      <div class="text-up-header" id="executionTextUpHeader">CREATE NEW SWITCH</div>
      <div class="content-title" id="executionContentTitle">Execution</div>
      <div class="central-text" id="executionCentralText">
        Choose an account to transfer your assets to.<br>
        Choose <i>Manually</i>  to allow a predefined account to execute the switch.<br>
        Choose <i>Automatically</i>  for automatic execution upon expiration.
      </div>
    </div>
    <div class="right-wrapper">
      <div class="form-box">
        <div class="form-element-header">Recepient</div>
        <div class="form-element-subheader">Once the switch is executed, assets
          will be sent to the following wallet address</div>
        <input type="text" id="contractAddress" placeholder="Paste receiver address" value="" />
        <div class="form-element-header">Executor</div>
        <!-- <div class="form-element-subheader">Please paste the executor wallet address</div> -->
        <select name="token" class="select-element-tokens" id="autoManual" style="width: 100%;"
          onchange="App.onExecutorOptionChange()">
          <option name="auto" value="Automatically">
            Automatically
          </option>
          <option name="manu" value="Manually">
            Manually
          </option>
        </select>
        <input type="text" id="executorAddress" placeholder="Paste executor address" value="" style="display: none;" />
        <div id="chainlinkBot" class="notification-message-box" style="background-color: #f0f0f0; margin-bottom: 10px;">
          <img class="wallet-image" style="margin-right: 0;" src="chainlink.png" />
          <div class="notification-box">Chainlink Keeper bot</div>
        </div>
        <div class="notification-message-box">
          <i class="fas fa-info"></i>
          <div class="notification-box">
            Executor is the one who will initiate the transaction once
            switch
            expire, it can be you
            or anyone you choose.</div>
        </div>
      </div>
    </div>
  </div>


  <div id="createFooter">
    <div class="footer-flex-start-class">
      <span id="dots" style="color:#00ffae;">&#9679;</span>
      <span id="dots">&#9679;</span>
      <span id="dots">&#9679;</span>
    </div>
    <div class="footer-flex-end-class">
      <button onclick="App.reset();" class="button-primary button-secondary">
        Reset</button>
      <button onclick="App.showAssetsPage()" class="button-primary" style="background-color: #00ffae;">
        Next step</button>
    </div>
  </div>

  <div id="assetsFooter">
    <div class="footer-flex-start-class">
      <span id="dots">&#9679;</span>
      <span id="dots" style="color:#00ffae;">&#9679;</span>
      <span id="dots">&#9679;</span>
    </div>
    <div class="footer-flex-end-class">
      <button onclick="App.showCreatePage()" class="button-primary button-secondary">
        Back</button>
      <button onclick="App.showExecutionPage()" class="button-primary" style="background-color: #00ffae;">
        Next step</button>
    </div>
  </div>

  <div id="executionFooter">
    <div class="footer-flex-start-class">
      <span id="dots">&#9679;</span>
      <span id="dots">&#9679;</span>
      <span id="dots" style="color:#00ffae;">&#9679;</span>
    </div>
    <div class="footer-flex-end-class">
      <button onclick="App.showAssetsPage()" class="button-primary button-secondary">
        Back</button>
      <button onclick="App.switchOverview()" class="button-primary" style="background-color: #00ffae;">
        Next</button>
    </div>
  </div>
  <div id="overviewFooter">
    <div class="footer-flex-end-class-overview">
      <button onclick="App.showExecutionPage()" class="button-primary button-secondary">
        Back</button>
      <button onclick="App.createSwitch()" class="button-primary" style="background-color: #00ffae;">
        Create Switch</button>
    </div>
  </div>
  <div id="editSwicthFooter">
    <div class="footer-flex-end-class-overview">
      <button onclick="App.discardEditSwitch()" class="button-primary button-secondary">
        Discard</button>
      <button onclick="App.saveEditedSwitch()" class="button-primary" style="background-color: #00ffae;">
        Save</button>
    </div>
  </div>
</body>

</html>